import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Button } from "./ui/button";
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from "./ui/card";
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger, } from "./ui/dialog";
import { Input } from "./ui/input";
function SearchDocuments({ query, onQueryChange, onSearch, results, isSearching = false, }) {
    return (_jsxs(Card, { children: [_jsxs(CardHeader, { children: [_jsx(CardTitle, { children: "Semantic Document Search" }), _jsx(CardDescription, { children: "Search through your documents using natural language. Find relevant content based on meaning, not just keywords." })] }), _jsxs(CardContent, { className: "space-y-4", children: [_jsx(Input, { value: query, onChange: onQueryChange, placeholder: "Ask a question or describe what you're looking for..." }), _jsx("div", { className: "flex items-stretch border-2 border-dashed w-full h-[150px] min-h-0", children: results && results.length > 0 ? (_jsx("div", { className: "w-full h-full min-h-0", children: _jsx("div", { className: "w-full h-full min-h-0 overflow-x-auto overflow-y-hidden", children: _jsx("div", { className: "flex h-full items-stretch w-max space-x-4 p-2", children: results.map((result, index) => (_jsxs(Dialog, { children: [_jsx(DialogTrigger, { asChild: true, children: _jsxs("div", { className: "flex flex-col justify-between text-sm bg-[#393939] p-2 h-full min-h-0 cursor-pointer", children: [_jsxs("p", { className: "text-lg truncate", children: ["Document Id: ", result.id] }), _jsx("p", { className: "text-lg truncate", children: result.title }), _jsx("div", { className: "text-muted-foreground", children: _jsxs("p", { children: ["Similarity: ", result.similarity_percent || "unknown"] }) })] }, index) }), _jsxs(DialogContent, { className: "max-h-[calc(100vh-4rem)] overflow-y-auto", children: [_jsxs(DialogHeader, { children: [_jsxs(DialogTitle, { children: ["Document: ", result.id, " Title: ", result.title] }), _jsxs(DialogDescription, { children: ["Similarity: ", result.similarity_percent] })] }), result.content] })] }, index))) }) }) })) : (_jsx("div", { className: "h-full w-full flex justify-center items-center text-muted-foreground text-sm", children: "No files uploaded" })) })] }), _jsx(CardFooter, { children: _jsx(Button, { variant: "my", onClick: onSearch, disabled: !query.trim() || isSearching, children: isSearching ? "Searching..." : "Search Documents" }) })] }));
}
export default SearchDocuments;
